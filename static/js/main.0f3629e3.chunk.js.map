{"version":3,"sources":["components/Modal/modal.module.css","components/Button/button.module.css","components/ImageGallery/imageGallery.module.css","components/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Button/Button.js","components/Modal/Modal.js","components/ImageGallery/ImageGallery.js","App.js","index.js","components/ImageGalleryItem/imageGalleryItem.module.css"],"names":["module","exports","Searchbar","state","name","handleNameChange","event","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","swal","props","onSubmit","this","type","className","style","marginRight","onChange","autoComplete","placeholder","Component","ImageGalleryItem","images","onClick","map","image","id","webformatURL","largeImageURL","styles","src","alt","Button","incrementPage","Modal","onBackdropClick","Overlay","ImageGallery","page","status","showModal","onIncrementPage","handleImageClick","handleBackdropCLick","evt","target","tagName","document","addEventListener","code","removeEventListener","prevProps","prevState","prevName","nextName","key","url","fetch","then","response","ok","json","data","hits","length","catch","error","finally","window","scrollTo","top","documentElement","scrollHeight","behavior","prev","color","height","width","timeout","App","handleFormSubmit","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.0f3629e3.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"modal_Overlay__2kzmq\",\"Modal\":\"modal_Modal__3pdhi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"button_Button__iJB_v\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"imageGallery_ImageGallery__1osmQ\"};","import React, { Component } from \"react\";\r\n// import PropTypes from \"prop-types\";\r\nimport swal from \"sweetalert\";\r\nimport {ImSearch} from \"react-icons/im\";\r\n\r\nexport default class Searchbar extends Component {\r\n  state = {\r\n    name: \"\",\r\n  };\r\n\r\n  handleNameChange = (event) => {\r\n    this.setState({ name: event.currentTarget.value.toLowerCase() });\r\n  };\r\n\r\n  handleSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    if (this.state.name.trim() === \"\") {\r\n      return swal(\"введите данные, пожалуйста\");\r\n    }\r\n    this.props.onSubmit(this.state.name);\r\n    this.setState({ name: \"\" });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header>\r\n        <form onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className=\"SearchForm-button\">\r\n            <ImSearch style={{ marginRight: 8 }} />\r\n            <span>Search</span>\r\n          </button>\r\n\r\n          <input \r\n            type=\"text\"\r\n            value={this.state.name}\r\n            onChange={this.handleNameChange}\r\n            autoComplete=\"off\"\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styles from \"./imageGalleryItem.module.css\";\r\n\r\nfunction ImageGalleryItem({ images, onClick }) {\r\n  return (\r\n    <>\r\n      {images.map((image) => {\r\n        const { id, webformatURL, largeImageURL } = image;\r\n        return (\r\n          <li className={styles.ImageGalleryItem} key={id}>\r\n            <img\r\n              className={styles.ImageGalleryItem - image}\r\n              src={webformatURL}\r\n              alt=\"\"\r\n              onClick={() => onClick(largeImageURL)}\r\n            />\r\n          </li>\r\n        );\r\n      })}\r\n    </>\r\n  );\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  images: PropTypes.arrayOf(Object),\r\n  byClick: PropTypes.func,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styles from \"./button.module.css\";\r\n\r\nfunction Button({ incrementPage }) {\r\n  return (\r\n    <div>\r\n      <button className={styles.Button} onClick={incrementPage}>\r\n        Загрузить больше\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nButton.propTypes = {\r\n  incrementPage: PropTypes.func,\r\n};\r\n\r\nexport default Button;\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport style from \"./modal.module.css\";\r\n\r\nexport default class Modal extends Component {\r\n  static propTypes = {\r\n    onBackdropClick: PropTypes.func,\r\n    image: PropTypes.string.isRequired,\r\n  };\r\n\r\n  render() {\r\n    const { onBackdropClick, image } = this.props;\r\n    return (\r\n      <>\r\n        <section className={style.Overlay} onClick={onBackdropClick}>\r\n          <div className={style.Modal}>\r\n            <img src={image} alt=\"backdropImage\" />\r\n          </div>\r\n        </section>\r\n      </>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\nimport swal from \"sweetalert\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport Button from \"../Button/Button\";\r\nimport Modal from \"../Modal/Modal\";\r\nimport styles from \"./imageGallery.module.css\";\r\n\r\nexport default class ImageGallery extends Component {\r\n  state = {\r\n    page: 1,\r\n    name: \"\",\r\n    images: [],\r\n    status: \"Idle\",\r\n    largeImageURL: \"\",\r\n    showModal: false,\r\n  };\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const prevName = prevProps.name;\r\n    const nextName = this.props.name;\r\n    const key = \"19297457-6b61957df3c7b30b2bbaf73bd\";\r\n\r\n    if (prevName !== nextName) {\r\n      const url = `https://pixabay.com/api/?q=${nextName}&page=1&key=${key}&image_type=photo&orientation=horizontal&per_page=12`;\r\n      fetch(url)\r\n        .then((response) => {\r\n          if (response.ok) {\r\n            return response.json();\r\n          }\r\n        })\r\n        .then((data) => {\r\n          if (data.hits.length === 0) {\r\n            swal(\"Нет данных по Вашему запросу\");\r\n          }\r\n          if (data.hits.length > 0) {\r\n            this.setState({ images: data.hits, status: \"Resolved\" });\r\n          }\r\n        })\r\n        .catch((error) => this.setState({ status: \"Rejected\" }))\r\n        .finally(() => {\r\n          window.scrollTo({\r\n            top: document.documentElement.scrollHeight,\r\n            behavior: \"smooth\",\r\n          });\r\n        });\r\n    }\r\n\r\n    if (prevState.page !== this.state.page) {\r\n      this.setState({ status: \"Pending\" });\r\n      const url = `https://pixabay.com/api/?q=${nextName}&page=${this.state.page}&key=${key}&image_type=photo&orientation=horizontal&per_page=12`;\r\n      fetch(url)\r\n        .then((response) => {\r\n          if (response.ok) {\r\n            return response.json();\r\n          }\r\n        })\r\n        .then((data) => {\r\n          this.setState((prev) => ({\r\n            images: [...prev.images, ...data.hits],\r\n            status: \"Resolved\",\r\n          }));\r\n        })\r\n        .catch((error) => this.setState({ status: \"Rejected\" }))\r\n        .finally(() => {\r\n          window.scrollTo({\r\n            top: document.documentElement.scrollHeight,\r\n            behavior: \"smooth\",\r\n          });\r\n        });\r\n    }\r\n  }\r\n\r\n  onIncrementPage = () => {\r\n    this.setState({ page: this.state.page + 1 });\r\n  };\r\n\r\n  handleImageClick = (image) => {\r\n    this.setState({ largeImageURL: image, showModal: true });\r\n  };\r\n\r\n  handleBackdropCLick = (evt) => {\r\n    if (evt.target.tagName === \"SECTION\") {\r\n      this.setState({ showModal: false });\r\n      return;\r\n    }\r\n    if (this.state.showModal === true) {\r\n      document.addEventListener(\"keydown\", (evt) => {\r\n        if (evt.code === \"Escape\") {\r\n          this.setState({ showModal: false });\r\n          return;\r\n        }\r\n      });\r\n    }\r\n    if (this.state.showModal === false) {\r\n      document.removeEventListener(\"keydown\");\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { largeImageURL, images, showModal, status } = this.state;\r\n    return (\r\n      <>\r\n        <ul className={styles.ImageGallery}>\r\n          <ImageGalleryItem images={images} onClick={this.handleImageClick} />\r\n        </ul>\r\n        {status === \"Pending\" && (\r\n          <div>\r\n            <Loader\r\n              type=\"Puff\"\r\n              color=\"#00BFFF\"\r\n              height={100}\r\n              width={100}\r\n              timeout={3000}\r\n            />\r\n          </div>\r\n        )}\r\n        {(images.length > 0 || status === \"Resolved\") && (\r\n          <Button incrementPage={this.onIncrementPage} />\r\n        )}\r\n        {showModal && (\r\n          <Modal\r\n            image={largeImageURL}\r\n            onBackdropClick={this.handleBackdropCLick}\r\n          />\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n","import { Component } from \"react\";\n// import swal from 'sweetalert';\nimport Searchbar from \"./components/Searchbar\";\nimport ImageGallery from \"./components/ImageGallery/ImageGallery\";\n// import ImageGalleryItem from \"./components/ImageGalleryItem\";\n\nexport default class App extends Component {\n  state = {\n    name: \"\",\n  };\n\n  handleFormSubmit = (name) => {\n    this.setState({ name });\n  };\n\n  render() {\n    return (\n      <>\n        <Searchbar onSubmit={this.handleFormSubmit} />\n        <ImageGallery name={this.state.name} />\n      </>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"imageGalleryItem_ImageGalleryItem__1ZYDW\",\"ImageGalleryItem-image\":\"imageGalleryItem_ImageGalleryItem-image__3Lg-E\"};"],"sourceRoot":""}