(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{10:function(e,t,a){e.exports={Overlay:"modal_Overlay__2kzmq",Modal:"modal_Modal__3pdhi"}},16:function(e,t,a){e.exports={Button:"button_Button__iJB_v"}},17:function(e,t,a){e.exports={ImageGallery:"imageGallery_ImageGallery__1osmQ"}},48:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(1),o=a.n(c),r=a(14),i=a.n(r),s=a(3),l=a(4),m=a(6),h=a(5),u=a(7),d=a.n(u),g=a(18),j=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).state={name:""},e.handleNameChange=function(t){e.setState({name:t.currentTarget.value.toLowerCase()})},e.handleSubmit=function(t){if(t.preventDefault(),""===e.state.name.trim())return d()("\u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u0430\u043d\u043d\u044b\u0435, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430");e.props.onSubmit(e.state.name),e.setState({name:""})},e}return Object(l.a)(a,[{key:"render",value:function(){return Object(n.jsx)("header",{children:Object(n.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(n.jsxs)("button",{type:"submit",className:"SearchForm-button",children:[Object(n.jsx)(g.a,{style:{marginRight:8}}),Object(n.jsx)("span",{children:"Search"})]}),Object(n.jsx)("input",{type:"text",value:this.state.name,onChange:this.handleNameChange,autoComplete:"off",placeholder:"Search images and photos"})]})})}}]),a}(c.Component),b=a(11),p=a(9),f=a.n(p);var O=function(e){var t=e.images,a=e.onClick;return Object(n.jsx)(n.Fragment,{children:t.map((function(e){var t=e.id,c=e.webformatURL,o=e.largeImageURL;return Object(n.jsx)("li",{className:f.a.ImageGalleryItem,children:Object(n.jsx)("img",{className:f.a.ImageGalleryItem-e,src:c,alt:"",onClick:function(){return a(o)}})},t)}))})},v=(a(26),a(15)),y=a.n(v),x=a(16),k=a.n(x);var I=function(e){var t=e.incrementPage;return Object(n.jsx)("div",{children:Object(n.jsx)("button",{className:k.a.Button,onClick:t,children:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435"})})},S=a(10),w=a.n(S),_=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.onBackdropClick,a=e.image;return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("section",{className:w.a.Overlay,onClick:t,children:Object(n.jsx)("div",{className:w.a.Modal,children:Object(n.jsx)("img",{src:a,alt:"backdropImage"})})})})}}]),a}(c.Component),C=a(17),G=a.n(C),L=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).state={page:1,name:"",images:[],status:"Idle",largeImageURL:"",showModal:!1},e.onIncrementPage=function(){e.setState({page:e.state.page+1})},e.handleImageClick=function(t){e.setState({largeImageURL:t,showModal:!0})},e.handleBackdropCLick=function(t){"SECTION"!==t.target.tagName?(!0===e.state.showModal&&document.addEventListener("keydown",(function(t){"Escape"!==t.code||e.setState({showModal:!1})})),!1===e.state.showModal&&document.removeEventListener("keydown")):e.setState({showModal:!1})},e}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e,t){var a=this,n=e.name,c=this.props.name,o="19297457-6b61957df3c7b30b2bbaf73bd";if(n!==c){var r="https://pixabay.com/api/?q=".concat(c,"&page=1&key=").concat(o,"&image_type=photo&orientation=horizontal&per_page=12");fetch(r).then((function(e){if(e.ok)return e.json()})).then((function(e){0===e.hits.length&&d()("\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445 \u043f\u043e \u0412\u0430\u0448\u0435\u043c\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u0443"),e.hits.length>0&&a.setState({images:e.hits,status:"Resolved"})})).catch((function(e){return a.setState({status:"Rejected"})})).finally((function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}))}if(t.page!==this.state.page){this.setState({status:"Pending"});var i="https://pixabay.com/api/?q=".concat(c,"&page=").concat(this.state.page,"&key=").concat(o,"&image_type=photo&orientation=horizontal&per_page=12");fetch(i).then((function(e){if(e.ok)return e.json()})).then((function(e){a.setState((function(t){return{images:[].concat(Object(b.a)(t.images),Object(b.a)(e.hits)),status:"Resolved"}}))})).catch((function(e){return a.setState({status:"Rejected"})})).finally((function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}))}}},{key:"render",value:function(){var e=this.state,t=e.largeImageURL,a=e.images,c=e.showModal,o=e.status;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("ul",{className:G.a.ImageGallery,children:Object(n.jsx)(O,{images:a,onClick:this.handleImageClick})}),"Pending"===o&&Object(n.jsx)("div",{children:Object(n.jsx)(y.a,{type:"Puff",color:"#00BFFF",height:100,width:100,timeout:3e3})}),(a.length>0||"Resolved"===o)&&Object(n.jsx)(I,{incrementPage:this.onIncrementPage}),c&&Object(n.jsx)(_,{image:t,onBackdropClick:this.handleBackdropCLick})]})}}]),a}(c.Component),M=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).state={name:""},e.handleFormSubmit=function(t){e.setState({name:t})},e}return Object(l.a)(a,[{key:"render",value:function(){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(j,{onSubmit:this.handleFormSubmit}),Object(n.jsx)(L,{name:this.state.name})]})}}]),a}(c.Component);i.a.render(Object(n.jsx)(o.a.StrictMode,{children:Object(n.jsx)(M,{})}),document.getElementById("root"))},9:function(e,t,a){e.exports={ImageGalleryItem:"imageGalleryItem_ImageGalleryItem__1ZYDW","ImageGalleryItem-image":"imageGalleryItem_ImageGalleryItem-image__3Lg-E"}}},[[48,1,2]]]);
//# sourceMappingURL=main.0f3629e3.chunk.js.map